<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Streamline construction health and safety compliance in South Africa with Safety First OHS Tools. Automated tools for clients and contractors.">
    <meta name="keywords" content="construction compliance South Africa, OHS tools, construction safety automation, H&S specifications, contractor H&S plan">
    <meta name="author" content="Salatiso Lonwabo Mdeni">
    <title>Safety First OHS Tools | Construction Compliance</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .tool-container { max-width: 900px; margin: 20px auto; padding: 20px; }
        .form-section { display: none; margin-top: 20px; }
        .form-section.active { display: block; }
        .form-section label { display: block; margin: 10px 0; }
        .form-section input, .form-section textarea { width: 100%; max-width: 400px; padding: 5px; }
        .form-section a { color: #007bff; text-decoration: none; font-size: 0.9em; }
        .form-section a:hover { text-decoration: underline; }
        .output { margin-top: 20px; }
        .download-btn { padding: 8px 16px; background-color: #28a745; color: white; border: none; cursor: pointer; margin: 5px; }
        .role-prompt { text-align: center; margin: 20px 0; }
        .role-buttons button { padding: 10px 20px; margin: 0 10px; background-color: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <div class="sidebar">
    <div class="sidebar-content">
        <h3>OHS Tools</h3>
        <a href="pages/construction-compliance.html"><span class="icon">üèóÔ∏è</span> Construction Health and Safety</a>
        <a href="pages/emergency-response-plan.html"><span class="icon">üö®</span> Emergency Response Planning</a>
        <a href="pages/risk-assessment.html"><span class="icon">‚ö†Ô∏è</span> Risk Assessment</a>
        <a href="pages/legal-appointments.html"><span class="icon">üìú</span> Legal Appointments</a>
        <a href="pages/incident-management.html"><span class="icon">üöë</span> Incident Management</a>
        <a href="pages/general-induction.html"><span class="icon">üéì</span> General Induction</a>
        <a href="pages/inspections-audits.html"><span class="icon">üîç</span> Inspections & Audits</a>
        <a href="pages/toolbox-talks.html"><span class="icon">üõ†Ô∏è</span> Toolbox Talks</a>
    </div>
</div>

    <div class="main-content">
        <header>
            <h1>Safety First OHS Tools</h1>
            <nav>
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
                <div class="search-bar">
                    <form role="search">
                        <input type="text" placeholder="Search OHS Tools..." aria-label="Search OHS Tools">
                        <button type="submit" aria-label="Search">Search</button>
                    </form>
                </div>
            </nav>
        </header>

        <section class="intro">
            <h1>Construction Health and Safety Compliance</h1>
            <p>Streamline your construction safety compliance with automated tools tailored for South Africa‚Äôs Construction Regulations 2014. Select your role below to generate precise H&S documents.</p>
            <div class="role-prompt">
                <p>Select your role to begin:</p>
                <div class="role-buttons">
                    <button id="client-btn">I am a Client</button>
                    <button id="contractor-btn">I am a Contractor</button>
                </div>
            </div>
        </section>

        <section class="content tool-container">
            <div id="client-form" class="form-section">
                <h3>Client Compliance Input</h3>
                <form id="client-input">
                    <h4>Pre-Construction Stage</h4>
                    <label>Project Name: <input type="text" name="project-name" required></label>
                    <label>Location: <input type="text" name="location" required></label>
                    <label>Project Description: <textarea name="description" required></textarea></label>
                    <label>Estimated Duration (days): <input type="number" name="duration" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=7" target="_blank">CR 4(1)</a></label>
                    <label>Estimated Person-Days: <input type="number" name="person-days" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=7" target="_blank">CR 4(1)</a></label>
                    <label>Project Value (ZAR): <input type="number" name="value" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=7" target="_blank">CR 4(1)</a></label>
                    <label>Scope of Work: <textarea name="scope" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=8" target="_blank">CR 5(1)(a)</a></textarea></label>
                    <label>Is this a complex design requiring an agent? <input type="radio" name="complex-design" value="yes"> Yes <input type="radio" name="complex-design" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=9" target="_blank">CR 5(5)</a></label>
                    <label>Have you conducted a baseline risk assessment? <input type="radio" name="baseline-risk" value="yes"> Yes <input type="radio" name="baseline-risk" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=8" target="_blank">CR 5(1)(f)</a></label>

                    <h4>Construction Stage</h4>
                    <label>Will you monitor contractor compliance? <input type="radio" name="monitor-compliance" value="yes"> Yes <input type="radio" name="monitor-compliance" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=8" target="_blank">CR 5(1)(o)</a></label>

                    <h4>Post-Construction Stage</h4>
                    <label>Do you require an H&S file from the contractor? <input type="radio" name="hs-file" value="yes"> Yes <input type="radio" name="hs-file" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=9" target="_blank">CR 5(1)(s)</a></label>

                    <button type="submit">Generate Client Documents</button>
                </form>
                <div id="client-output" class="output"></div>
            </div>

            <div id="contractor-form" class="form-section">
                <h3>Contractor Compliance Input</h3>
                <form id="contractor-input">
                    <h4>Pre-Construction Stage</h4>
                    <label>Contractor Name: <input type="text" name="contractor-name" required></label>
                    <label>COID Number: <input type="text" name="coid-number" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(e)</a></label>
                    <label>Letter of Good Standing: <input type="file" name="coid-letter" accept=".pdf,.docx"> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(e)</a></label>
                    <label>Client H&S Specifications: <input type="file" name="hs-specs" accept=".pdf,.docx" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(a)</a></label>
                    <label>Have you registered with a compensation fund? <input type="radio" name="compensation-fund" value="yes"> Yes <input type="radio" name="compensation-fund" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(e)</a></label>

                    <h4>Construction Stage</h4>
                    <label>Site Activities: <textarea name="activities" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(a)</a></textarea></label>
                    <label>Employee Count: <input type="number" name="employee-count" required> <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(c)(iii)</a></label>
                    <label>Have you appointed a safety officer? <input type="radio" name="safety-officer" value="yes"> Yes <input type="radio" name="safety-officer" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=12" target="_blank">CR 8(1)</a></label>
                    <label>Will you provide induction training? <input type="radio" name="training" value="yes"> Yes <input type="radio" name="training" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(2)</a></label>

                    <h4>Post-Construction Stage</h4>
                    <label>Will you compile an H&S file? <input type="radio" name="hs-file-contractor" value="yes"> Yes <input type="radio" name="hs-file-contractor" value="no" checked> No <a href="https://www.gov.za/sites/default/files/gcis_document/201409/37305rg10139gon426.pdf#page=11" target="_blank">CR 7(1)(g)</a></label>

                    <button type="submit">Generate Contractor Documents</button>
                </form>
                <div id="contractor-output" class="output"></div>
            </div>
        </section>

        <footer>
            <p>¬© 2025 Safety First OHS Tools. All rights reserved.</p>
            <p><a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> | <a href="contact.html">Contact Us</a></p>
        </footer>
    </div>

    <script>
        const { jsPDF } = window.jspdf;

        document.getElementById('client-btn').addEventListener('click', () => {
            document.getElementById('client-form').classList.add('active');
            document.getElementById('contractor-form').classList.remove('active');
        });
        document.getElementById('contractor-btn').addEventListener('click', () => {
            document.getElementById('contractor-form').classList.add('active');
            document.getElementById('client-form').classList.remove('active');
        });

        document.getElementById('client-input').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            const permitRequired = data.duration > 180 || data['person-days'] > 500 || data.value > 500000;
            const score = (data['complex-design'] === 'yes' ? 1 : 0) + (data['baseline-risk'] === 'yes' ? 1 : 0) + 
                          (data['monitor-compliance'] === 'yes' ? 1 : 0) + (data['hs-file'] === 'yes' ? 1 : 0);

            const output = document.getElementById('client-output');
            output.innerHTML = `<h4>Generated Documents (Compliance Score: ${score}/4)</h4>`;

            if (permitRequired) {
                const notificationDoc = new jsPDF();
                notificationDoc.text(`Notification of Construction Work\nProject: ${data['project-name']}\nLocation: ${data.location}\nDuration: ${data.duration} days\nPerson-Days: ${data['person-days']}`, 10, 10);
                output.innerHTML += '<button class="download-btn" onclick="downloadPDF(\'notification.pdf\', notificationDoc)">Download Notification</button>';
            }

            const specsDoc = new jsPDF();
            specsDoc.text(`Health & Safety Specifications\nProject: ${data['project-name']}\nLocation: ${data.location}\nScope: ${data.scope}\nBaseline Risk Done: ${data['baseline-risk']}`, 10, 10);
            output.innerHTML += '<button class="download-btn" onclick="downloadPDF(\'hs-specifications.pdf\', specsDoc)">Download H&S Specs</button>';

            if (data['complex-design'] === 'yes') {
                const agentDoc = new jsPDF();
                agentDoc.text(`Agent Appointment Letter\nProject: ${data['project-name']}\nRole: Oversee complex design per CR 5(5)`, 10, 10);
                output.innerHTML += '<button class="download-btn" onclick="downloadPDF(\'agent-appointment.pdf\', agentDoc)">Download Agent Appointment</button>';
            }
        });

        document.getElementById('contractor-input').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            const score = (data['compensation-fund'] === 'yes' ? 1 : 0) + (data['safety-officer'] === 'yes' ? 1 : 0) + 
                          (data['training'] === 'yes' ? 1 : 0) + (data['hs-file-contractor'] === 'yes' ? 1 : 0);

            const output = document.getElementById('contractor-output');
            output.innerHTML = `<h4>Generated Documents (Compliance Score: ${score}/4)</h4>`;

            const planDoc = new jsPDF();
            planDoc.text(`Health & Safety Plan\nContractor: ${data['contractor-name']}\nCOID: ${data['coid-number']}\nActivities: ${data.activities}`, 10, 10);
            planDoc.text(`Employees: ${data['employee-count']}\nSafety Officer: ${data['safety-officer']}\nTraining: ${data['training']}`, 10, 30);
            output.innerHTML += '<button class="download-btn" onclick="downloadPDF(\'hs-plan.pdf\', planDoc)">Download H&S Plan</button>';

            if (data['hs-file-contractor'] === 'yes') {
                const fileDoc = new jsPDF();
                fileDoc.text(`H&S File\nContractor: ${data['contractor-name']}\nIncludes all compliance records per CR 7(1)(g)`, 10, 10);
                output.innerHTML += '<button class="download-btn" onclick="downloadPDF(\'hs-file.pdf\', fileDoc)">Download H&S File</button>';
            }
        });

        function downloadPDF(filename, doc) {
            doc.save(filename);
        }

        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);
        function adjustLayout() {
            const headerHeight = document.querySelector('header').offsetHeight;
            document.querySelector('.main-content').style.paddingTop = headerHeight + 'px';
            document.querySelector('.sidebar').style.top = headerHeight + 'px';
            document.querySelector('.sidebar').style.height = `calc(100% - ${headerHeight}px)`;
        }
    </script>
</body>
</html>
