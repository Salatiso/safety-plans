\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, margin=2.5cm]{geometry}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{noto}
\usepackage{ifthen}

% Branding variables
\newcommand{\brandingLevel}{light}
\newcommand{\userLogo}{}
\newcommand{\userCompany}{{{COMPANY_NAME}}}
\newcommand{\safetyHelpLogo}{/safety-plans/assets/images/logo.png}

% Dynamic fields
\newcommand{\docTitle}{Risk Register}
\newcommand{\refNumber}{RR-001}
\newcommand{\issueDate}{{{DATE}}}
\newcommand{\companyAddress}{{{COMPANY_ADDRESS}}}
\newcommand{\customContent}{{{CUSTOM_CONTENT}}}
\newcommand{\compilerName}{{{COMPILED_BY_NAME}}}
\newcommand{\compilerRole}{{{COMPILED_BY_ROLE}}}
\newcommand{\compilerSACPCMP}{}
\newcommand{\compilerEmail}{{{COMPILED_BY_EMAIL}}}
\newcommand{\compilerPhone}{{{COMPILED_BY_CONTACT}}}
\newcommand{\compilerCompany}{}
\newcommand{\revision}{{{REVISION}}}

% Header and Footer
\pagestyle{fancy}
\fancyhf{}
\ifthenelse{\equal{\brandingLevel}{heavy}}{
  \fancyhead[L]{\small \refNumber}
  \fancyhead[C]{\ifthen\isempty{\userLogo}{\textbf{\userCompany}}{\includegraphics[height=1.5cm]{\userLogo}} \quad \includegraphics[height=1cm]{\safetyHelpLogo}}
  \fancyhead[R]{\small \compilerName}
}{
  \fancyhead[L]{\small \refNumber}
  \fancyhead[C]{\ifthen\isempty{\userLogo}{\textbf{\userCompany}}{\includegraphics[height=1.5cm]{\userLogo}}}
  \fancyhead[R]{\small \compilerName}
}
\fancyfoot[L]{\small \textit{Powered by SafetyHelp | Safety Personalized, Compliance Simplified}}
\fancyfoot[C]{\small \textit{Visit safetyfirst.help | Email: salatiso@safetyfirst.help}}
\fancyfoot[R]{\small Page \thepage\ of 1}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\parbox[b]{\textwidth}{\footnotesize \textit{This document is generated by SafetyHelp for OHS compliance. Verify applicability with local regulations.}}}

\begin{document}

% Content-Specific Sections
\section*{\docTitle}
\textbf{Reference}: \refNumber \\
\textbf{Issue Date}: \issueDate \\
\textbf{Compiled By}: \compilerName, \compilerRole \\
\textbf{Contact}: \compilerEmail, \compilerPhone

\subsection*{Purpose}
This Risk Register documents identified hazards and risks at \userCompany, ensuring compliance with ISO 45001 Clause 6.1.2.

\subsection*{Scope}
This register applies to all operations at \userCompanyâ€™s premises located at \companyAddress.

\subsection*{Risk Register}
\begin{table}[h]
    \centering
    \begin{tabular}{p{2cm}p{3cm}p{3cm}p{3cm}p{3cm}}
        \toprule
        \textbf{ID} & \textbf{Hazard} & \textbf{Risk} & \textbf{Likelihood} & \textbf{Controls} \\
        \midrule
        & & & & \\
        \bottomrule
    \end{tabular}
    \caption{Risk Register}
\end{table}

\subsection*{Additional Details}
\customContent

% Signature Section
\subsection*{Signatures}
\begin{itemize}
  \item \textbf{Compiler}: \compilerName \\
    Signature: \rule{5cm}{0.4pt} \quad Date: \rule{3cm}{0.4pt}
  \item \textbf{Approved By}: {{CEO_NAME}} \\
    Signature: \rule{5cm}{0.4pt} \quad Date: \rule{3cm}{0.4pt}
\end{itemize}

\end{document}
