<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Read the Privacy Policy for Salatiso OHS Tools to understand how we handle your data.">
    <meta name="keywords" content="OHS tools, privacy policy, occupational health and safety, safety plans, South Africa OHS, Salatiso">
    <meta name="author" content="Salatiso Lonwabo Mdeni">
    <title>Salatiso OHS Tools - Privacy Policy</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container mx-auto header-container">
            <div class="header-left">
                <div class="logo-container">
                    <img src="assets/images/logo.png" alt="SafetyHelp Logo">
                    <p class="tagline" data-i18n="header.tagline">Safety Personalized, Compliance Simplified‚ÄîAnytime, Anywhere</p>
                </div>
            </div>
            <div class="nav-links">
                <a href="/safety-plans/index.html" data-i18n="header.nav.home">Home</a>
                <a href="/safety-plans/resources.html" data-i18n="header.nav.resources">Resources</a>
                <a href="/safety-plans/services.html" data-i18n="header.nav.services">Services</a>
                <a href="/safety-plans/community.html" data-i18n="header.nav.community">Community</a>
                <a href="/safety-plans/about.html" data-i18n="header.nav.about">About</a>
                <a href="/safety-plans/contact.html" data-i18n="header.nav.contact">Contact</a>
                <a href="/safety-plans/login.html" id="login-link" data-i18n="header.nav.login">Login</a>
            </div>
            <div class="header-right">
                <div class="search-language-container">
                    <div class="language-selector">
                        <select id="language-select" aria-label="Select language">
                            <option value="en" data-i18n="language_selector.en">English</option>
                            <option value="af" data-i18n="language_selector.af">Afrikaans</option>
                            <option value="zu" data-i18n="language_selector.zu">isiZulu</option>
                            <option value="xh" data-i18n="language_selector.xh">isiXhosa</option>
                            <option value="st" data-i18n="language_selector.st">Sesotho</option>
                            <option value="tn" data-i18n="language_selector.tn">Setswana</option>
                            <option value="nso" data-i18n="language_selector.nso">Sepedi</option>
                            <option value="ts" data-i18n="language_selector.ts">Xitsonga</option>
                            <option value="ss" data-i18n="language_selector.ss">siSwati</option>
                            <option value="ve" data-i18n="language_selector.ve">Tshivenda</option>
                            <option value="nr" data-i18n="language_selector.nr">isiNdebele</option>
                            <option value="es" data-i18n="language_selector.es">Espa√±ol</option>
                            <option value="fr" data-i18n="language_selector.fr">French</option>
                            <option value="sn" data-i18n="language_selector.sn">Shona</option>
                            <option value="sw" data-i18n="language_selector.sw">Swahili</option>
                            <option value="zh" data-i18n="language_selector.zh">Mandarin</option>
                        </select>
                    </div>
                    <div class="search-bar">
                        <form role="search" class="flex">
                            <input type="text" data-i18n="[placeholder]header.search.placeholder" placeholder="Search OHS Tools..." aria-label="Search OHS Tools" class="px-3 py-1 border border-gray-300 rounded-l text-gray-800">
                            <button type="submit" aria-label="Search" data-i18n="header.search.button" class="px-4 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-r">Search</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="sidebar">
        <div class="sidebar-content">
            <h3>OHS Tools</h3>
            <a href="/safety-plans/pages/construction-compliance.html"><span class="icon">üèóÔ∏è</span> Construction Health and Safety</a>
            <a href="/safety-plans/pages/emergency-response-plan.html"><span class="icon">üö®</span> Emergency Response Planning</a>
            <a href="/safety-plans/pages/risk-assessment.html"><span class="icon">‚ö†Ô∏è</span> Risk Assessment</a>
            <a href="/safety-plans/pages/legal-appointments.html"><span class="icon">üìú</span> Legal Appointments</a>
            <a href="/safety-plans/pages/incident-management.html"><span class="icon">üöë</span> Incident Management</a>
            <a href="/safety-plans/pages/general-induction.html"><span class="icon">üéì</span> General Induction</a>
            <a href="/safety-plans/pages/inspections-audits.html"><span class="icon">üîç</span> Inspections & Audits</a>
            <a href="/safety-plans/pages/toolbox-talks.html"><span class="icon">üõ†Ô∏è</span> Toolbox Talks</a>
        </div>
    </div>

    <div class="main-content">
        <section class="intro">
            <h2>Privacy Policy</h2>
            <p>At Salatiso OHS Tools, we are committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information when you use our website and services. We comply with applicable data protection laws, including the Protection of Personal Information Act (POPIA) in South Africa. For more details, please contact us.</p>
        </section>

        <footer>
            <p>¬© 2025 Salatiso OHS Tools. All rights reserved.</p>
            <p>
                <a href="/safety-plans/privacy.html">Privacy Policy</a> |
                <a href="/safety-plans/terms.html">Terms of Service</a> |
                <a href="/safety-plans/contact.html">Contact Us</a>
            </p>
            <div class="newsletter">
                <h3>Stay Updated</h3>
                <form>
                    <input type="email" placeholder="Enter your email" aria-label="Email for newsletter">
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </footer>
    </div>

    <!-- Chatbot Widget -->
    <div class="chatbot-container">
        <button id="chat-toggle" class="chat-toggle-btn">
            <span class="chat-icon">‚õëÔ∏è</span> Ask Me
        </button>
        <div id="chat-window" class="chat-hidden">
            <div id="chat-output"></div>
            <input id="chat-input" type="text" placeholder="Ask about OHS..." aria-label="Ask about OHS">
            <button id="chat-send" aria-label="Send message">Send</button>
        </div>
    </div>

    <!-- Firebase Scripts and Chatbot Logic -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyDlzylJ0WF_WMZQA2bJeqbzkEMhihYcZW0",
            authDomain: "safety-first-chatbot.firebaseapp.com",
            projectId: "safety-first-chatbot",
            storageBucket: "safety-first-chatbot.firebasestorage.app",
            messagingSenderId: "741489856541",
            appId: "1:741489856541:web:0833fa5deb60dd54c9b6f4",
            measurementId: "G-04Y1PQDYVD"
        };

        // Initialize Firebase with error handling
        try {
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
        } catch (error) {
            console.error("Firebase initialization failed:", error);
            document.getElementById('chat-output').innerHTML = "<p><strong>Error:</strong> Chatbot unavailable. Please try again later.</p>";
        }

        // Toggle Chat Window
        document.getElementById('chat-toggle').addEventListener('click', () => {
            document.getElementById('chat-window').classList.toggle('chat-hidden');
        });

        // Send Question to Chatbot
        document.getElementById('chat-send').addEventListener('click', async () => {
            const input = document.getElementById('chat-input').value.trim();
            const output = document.getElementById('chat-output');
            if (!input) return; // Prevent empty submissions

            output.innerHTML += `<p><strong>You:</strong> ${input}</p>`;
            const query = input.toLowerCase();

            try {
                const snapshot = await db.collection('ohs-knowledge').get();
                let response = "Sorry, I couldn‚Äôt find an exact match. Try rephrasing!";
                snapshot.forEach(doc => {
                    const data = doc.data();
                    if (data.content && data.content.toLowerCase().includes(query)) {
                        response = `<strong>From ${data.book}, Chapter ${data.chapter}:</strong><br>${data.content.substring(0, 200)}... (See <a href="/safety-plans/resources/${data.file}">full chapter</a>)`;
                    }
                });
                output.innerHTML += `<p><strong>Chatbot:</strong> ${response}</p>`;
            } catch (error) {
                console.error("Firestore query failed:", error);
                output.innerHTML += `<p><strong>Chatbot:</strong> Oops, something went wrong. Please try again!</p>`;
            }

            document.getElementById('chat-input').value = '';
            output.scrollTop = output.scrollHeight;
        });

        // Adjust Layout
        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);
        function adjustLayout() {
            const headerHeight = document.querySelector('header').offsetHeight || 0;
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
            if (sidebar && mainContent) {
                sidebar.style.top = `${headerHeight}px`;
                sidebar.style.height = `calc(100vh - ${headerHeight}px)`;
                mainContent.style.marginLeft = `${sidebar.offsetWidth}px`;
                mainContent.style.paddingTop = `${headerHeight}px`;
                mainContent.style.minHeight = `calc(100vh - ${headerHeight}px)`;
            }
        }
    </script>

    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Open Sans', sans-serif;
            display: flex;
            min-height: 100vh;
            background-color: #f5f6f5;
            overflow-x: hidden;
            flex-direction: row; /* Ensure sidebar and main content align */
        }

        /* Header */
        header {
            background-color: #1a2526;
            color: #fff;
            padding: 15px 30px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 90;
        }
        .header-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .logo-placeholder {
            background-color: #fff;
            color: #333;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.9em;
            text-align: center;
            width: 250px; /* Match sidebar width */
            height: 40px;
            line-height: 20px;
        }
        .header-content {
            flex: 1;
        }
        header h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-links a {
            color: #fff;
            text-decoration: none;
            margin-right: 15px;
            font-size: 0.9em;
        }
        .nav-links a:hover {
            color: #00aaff;
        }
        .search-bar form {
            display: flex;
            align-items: center;
        }
        .search-bar input {
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            font-size: 0.9em;
        }
        .search-bar button {
            padding: 6px 12px;
            background-color: #00aaff;
            color: #fff;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }
        .search-bar button:hover {
            background-color: #0088cc;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            background-color: #1a2526;
            color: #ecf0f1;
            overflow-y: auto;
            z-index: 100;
        }
        .sidebar-content {
            padding: 20px;
        }
        .sidebar h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #fff;
        }
        .sidebar a {
            display: flex;
            align-items: center;
            color: #ecf0f1;
            text-decoration: none;
            padding: 10px 0;
            font-size: 1em;
        }
        .sidebar a .icon {
            margin-right: 10px;
            font-size: 1.2em;
        }
        .sidebar a:hover {
            color: #00aaff;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            background-color: #f5f6f5;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Ensure it takes full height */
        }

        /* Intro Section */
        .intro {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            margin: 100px 30px 30px 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1; /* Allow it to grow */
        }
        .intro h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.6em;
            margin-bottom: 10px;
            color: #333;
        }
        .intro p {
            font-size: 1em;
            color: #666;
        }

        /* Footer */
        footer {
            background-color: #1a2526;
            color: #fff;
            padding: 30px;
            text-align: center;
        }
        footer p {
            margin: 5px 0;
            font-size: 0.9em;
        }
        footer a {
            color: #00aaff;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        .newsletter {
            margin-top: 20px;
        }
        .newsletter h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .newsletter form {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .newsletter input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            font-size: 0.9em;
            width: 200px;
        }
        .newsletter button {
            padding: 8px 16px;
            background-color: #00aaff;
            color: #fff;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }
        .newsletter button:hover {
            background-color: #0088cc;
        }

        /* Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        .chat-toggle-btn {
            background-color: #00aaff;
            color: #fff;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        .chat-toggle-btn:hover {
            background-color: #0088cc;
        }
        .chat-icon {
            margin-right: 5px;
            font-size: 20px;
        }
        #chat-window {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column; /* Improved layout */
        }
        .chat-hidden {
            display: none;
        }
        #chat-output {
            padding: 10px;
            font-size: 14px;
            flex: 1; /* Allow output to grow */
        }
        #chat-input {
            width: 70%;
            padding: 8px;
            border: none;
            border-top: 1px solid #ddd;
        }
        #chat-send {
            width: 30%;
            padding: 8px;
            background-color: #00aaff;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        #chat-send:hover {
            background-color: #0088cc;
        }

        /* Accessibility Focus Styles */
        a:focus, button:focus, input:focus {
            outline: 2px solid #00aaff;
            outline-offset: 2px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                top: 0;
            }
            .main-content {
                margin-left: 0;
            }
            header {
                position: relative;
            }
            .header-container {
                flex-direction: column;
                align-items: flex-start;
            }
            .logo-placeholder {
                width: 100%;
                margin-bottom: 10px;
            }
            .intro {
                margin: 20px;
            }
            .nav-links {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            .nav-links a {
                margin: 5px 10px;
            }
        }
    </style>
</body>
</html>
