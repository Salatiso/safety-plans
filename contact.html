<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact Safety First OHS Tools to get involved, list services, suggest resources, or join our mentorship program.">
    <meta name="keywords" content="contact Safety First, OHS tools support, OHS service provider sign-up, OHS mentorship">
    <meta name="author" content="Salatiso Lonwabo Mdeni">
    <title>Safety First OHS Tools | Contact</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-content">
            <h3>OHS Tools</h3>
            <a href="pages/construction-compliance.html"><span class="icon">🏗️</span> Construction Health and Safety</a>
            <a href="pages/emergency-response-plan.html"><span class="icon">🚨</span> Emergency Response Planning</a>
            <a href="pages/risk-assessment.html"><span class="icon">⚠️</span> Risk Assessment</a>
            <a href="pages/legal-appointments.html"><span class="icon">📜</span> Legal Appointments</a>
            <a href="pages/incident-management.html"><span class="icon">🚑</span> Incident Management</a>
            <a href="pages/general-induction.html"><span class="icon">🎓</span> General Induction</a>
            <a href="pages/inspections-audits.html"><span class="icon">🔍</span> Inspections & Audits</a>
            <a href="pages/toolbox-talks.html"><span class="icon">🛠️</span> Toolbox Talks</a>
        </div>
    </div>

    <div class="main-content">
        <header>
            <h1>Safety First OHS Tools</h1>
            <nav>
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="resources.html">Resources</a>
                    <a href="services.html">Services</a>
                    <a href="community.html">Community</a>
                    <a href="about.html">About</a>
                    <a href="contact.html">Contact</a>
                </div>
                <div class="search-bar">
                    <form role="search">
                        <input type="text" placeholder="Search Contact..." aria-label="Search Contact">
                        <button type="submit" aria-label="Search">Search</button>
                    </form>
                </div>
            </nav>
        </header>

        <section class="intro">
            <h1>Contact Us</h1>
            <p>We’d love to hear from you! Whether you have feedback, want to contribute, or need support, reach out below.</p>
        </section>

        <section class="contact-section">
            <h2>Get in Touch</h2>
            <form class="contact-form">
                <label>Name: <input type="text" name="name" required></label>
                <label>Email: <input type="email" name="email" required></label>
                <label>Message: <textarea name="message" required></textarea></label>
                <button type="submit">Send Message</button>
            </form>

            <h2>Get Involved</h2>
            <div class="involvement-options">
                <a href="services.html" class="involvement-btn">List Your Services</a>
                <a href="resources.html" class="involvement-btn">Suggest a Resource</a>
                <a href="community.html" class="involvement-btn">Join Mentorship</a>
            </div>

            <div class="cta">
                <p>After reaching out, explore our <a href="resources.html">Resources</a> or join the <a href="community.html">Community</a>!</p>
            </div>
        </section>

        <footer>
            <p>© 2025 Safety First OHS Tools. All rights reserved.</p>
            <p><a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> | <a href="contact.html">Contact Us</a></p>
            <div class="newsletter">
                <h3>Stay Updated</h3>
                <form>
                    <input type="email" placeholder="Enter your email" aria-label="Email for newsletter">
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </footer>
    </div>

    <script>
        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);
        function adjustLayout() {
            const headerHeight = document.querySelector('header').offsetHeight;
            document.querySelector('.main-content').style.paddingTop = headerHeight + 'px';
            document.querySelector('.sidebar').style.top = headerHeight + 'px';
            document.querySelector('.sidebar').style.height = `calc(100% - ${headerHeight}px)`;
        }
    </script>
    <!-- Chatbot Widget -->
<div class="chatbot-container">
    <button id="chat-toggle" class="chat-toggle-btn">
        <span class="chat-icon">⛑️</span> Ask Me
    </button>
    <div id="chat-window" class="chat-hidden">
        <div id="chat-output"></div>
        <input id="chat-input" type="text" placeholder="Ask about OHS...">
        <button id="chat-send">Send</button>
    </div>
</div>

<!-- Firebase Scripts and Chatbot Logic -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
<script>
    // Firebase Config
    const firebaseConfig = {
        apiKey: "AIzaSyDlzylJ0WF_WMZQA2bJeqbzkEMhihYcZW0",
        authDomain: "safety-first-chatbot.firebaseapp.com",
        projectId: "safety-first-chatbot",
        storageBucket: "safety-first-chatbot.firebasestorage.app",
        messagingSenderId: "741489856541",
        appId: "1:741489856541:web:0833fa5deb60dd54c9b6f4",
        measurementId: "G-04Y1PQDYVD"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Toggle Chat Window
    document.getElementById('chat-toggle').addEventListener('click', () => {
        document.getElementById('chat-window').classList.toggle('chat-hidden');
    });

    // Send Question to Chatbot
    document.getElementById('chat-send').addEventListener('click', async () => {
        const input = document.getElementById('chat-input').value;
        const output = document.getElementById('chat-output');
        output.innerHTML += `<p><strong>You:</strong> ${input}</p>`;

        const query = input.toLowerCase();
        const snapshot = await db.collection('ohs-knowledge').get();
        let response = "Sorry, I couldn’t find an exact match. Try rephrasing!";
        snapshot.forEach(doc => {
            const data = doc.data();
            if (data.content.toLowerCase().includes(query)) {
                response = `<strong>From ${data.book}, Chapter ${data.chapter}:</strong><br>${data.content.substring(0, 200)}... (See <a href="/safety-plans/resources/${data.file}">full chapter</a>)`;
            }
        });
        output.innerHTML += `<p><strong>Chatbot:</strong> ${response}</p>`;
        document.getElementById('chat-input').value = '';
        output.scrollTop = output.scrollHeight;
    });

    // Adjust Layout
    window.addEventListener('load', adjustLayout);
    window.addEventListener('resize', adjustLayout);
    function adjustLayout() {
        const headerHeight = document.querySelector('header').offsetHeight || 0;
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.querySelector('.main-content');
        if (sidebar && mainContent) {
            sidebar.style.top = `${headerHeight}px`;
            sidebar.style.height = `calc(100vh - ${headerHeight}px)`;
            mainContent.style.marginLeft = `${sidebar.offsetWidth}px`;
            mainContent.style.paddingTop = `${headerHeight}px`;
            mainContent.style.minHeight = `calc(100vh - ${headerHeight}px)`;
        }
    }
</script>
</body>
</html>
